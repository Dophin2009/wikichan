!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";e.__esModule=!0,e.extend=o,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(i,s)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=o({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,a=/[&<>"'`=]/;function s(t){return r[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString;e.toString=l;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=u;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=c},function(t,e,n){"use strict";e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function i(t,e){var n=e&&e.loc,a=void 0,s=void 0;n&&(t+=" - "+(a=n.start.line)+":"+(s=n.start.column));for(var o=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=o[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=a,Object.defineProperty?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(t){}}i.prototype=new Error,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){const e=t.srcElement,n=e.parentElement.parentElement.parentElement.nextElementSibling;n.style.display="none"===n.style.display?"block":"none",e.innerText="+"===e.innerText?"–":"+"}n.r(e),n.d(e,"hide",function(){return r})},function(t,e,n){t.exports=n(8).default},function(t,e,n){var r,i;!function(a,s){"use strict";void 0===(i="function"==typeof(r=function(){var t=function(){},e="undefined",n=["trace","debug","info","warn","error"];function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(e,r){for(var i=0;i<n.length;i++){var a=n[i];this[a]=i<e?t:this.methodFactory(a,e,r)}this.log=this.debug}function a(n,a,s){return function(n){"debug"===n&&(n="log");return typeof console!==e&&(void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):t)}(n)||function(t,n,r){return function(){typeof console!==e&&(i.call(this,n,r),this[t].apply(this,arguments))}}.apply(this,arguments)}function s(t,r,s){var o,l=this,u="loglevel";function c(){var t;if(typeof window!==e){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===l.levels[t]&&(t=void 0),t}}t&&(u+=":"+t),l.name=t,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=s||a,l.getLevel=function(){return o},l.setLevel=function(r,a){if("string"==typeof r&&void 0!==l.levels[r.toUpperCase()]&&(r=l.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==a&&function(t){var r=(n[t]||"silent").toUpperCase();if(typeof window===e)return;try{return void(window.localStorage[u]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(t){}}(r),i.call(l,r,t),typeof console===e&&r<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(t){c()||l.setLevel(t,!1)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)};var d=c();null==d&&(d=null==r?"WARN":r),l.setLevel(d,!1)}var o=new s,l={};o.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new s(t,o.getLevel(),o.methodFactory)),e};var u=typeof window!==e?window.log:void 0;return o.noConflict=function(){return typeof window!==e&&window.log===o&&(window.log=u),o},o.getLoggers=function(){return l},o})?r.call(e,n,e,t):r)||(t.exports=i)}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=u;var i=n(0),a=r(n(1)),s=n(9),o=n(17),l=r(n(19));e.VERSION="4.1.2";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function u(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},s.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===i.toString.call(t))i.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var c=l.default.log;e.log=c,e.createFrame=i.createFrame,e.logger=l.default},function(t,e,n){n(29),t.exports=n(26)},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var a,s;return"        <span>"+(null!=(a="function"==typeof(s=null!=(s=n.summary||(null!=e?e.summary:e))?s:n.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"summary",hash:{},data:i}):s)?a:"")+"</span>\r\n"},3:function(t,e,n,r,i){return"        <span>No summary available.</span>\r\n"},5:function(t,e,n,r,i){var a;return'        <details class="extra">\r\n            <summary class="extra-summary">aliases</summary>\r\n            <ul class="extras-list">\r\n'+(null!=(a=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.aliases:e,{name:"each",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i}))?a:"")+"            </ul>\r\n        </details>\r\n"},6:function(t,e,n,r,i){return'                <li class="extras-item">'+t.escapeExpression(t.lambda(e,e))+"</li>\r\n"},8:function(t,e,n,r,i){var a;return'        <details class="extra">\r\n            <summary class="extra-summary">external links</summary>\r\n            <ul class="extras-list">\r\n'+(null!=(a=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.extlinks:e,{name:"each",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?a:"")+"            </ul>\r\n        </details>\r\n"},9:function(t,e,n,r,i){var a=t.lambda,s=t.escapeExpression;return'                <li class="extras-item link">\r\n                    <a target="_blank" href='+s(a(e,e))+">"+s(a(e,e))+"</a>\r\n                </li>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var a,s,o=null!=e?e:t.nullContext||{},l=n.helperMissing,u="function",c=t.escapeExpression,d=t.lambda;return'<div class="header">\r\n    <div class="top">\r\n        <span class="title">'+c(typeof(s=null!=(s=n.title||(null!=e?e.title:e))?s:l)===u?s.call(o,{name:"title",hash:{},data:i}):s)+'</span>\r\n        <div class="labels">\r\n            <span class="lang" title='+c(d(null!=(a=null!=e?e.lang:e)?a.name:a,e))+'>\r\n                <a target="_blank" href='+c(d(null!=(a=null!=e?e.lang:e)?a.url:a,e))+' class="lang">'+c(d(null!=(a=null!=e?e.lang:e)?a.id:a,e))+'</a>\r\n            </span>\r\n            <span class="id">'+c(typeof(s=null!=(s=n.id||(null!=e?e.id:e))?s:l)===u?s.call(o,{name:"id",hash:{},data:i}):s)+'</span>\r\n            <span class="full-url">\r\n                <a target="_blank" href='+c(typeof(s=null!=(s=n.url||(null!=e?e.url:e))?s:l)===u?s.call(o,{name:"url",hash:{},data:i}):s)+'>full url</a>\r\n            </span>\r\n            <span class="edit-url">\r\n                <a target="_blank" href='+c(typeof(s=null!=(s=n.editUrl||(null!=e?e.editUrl:e))?s:l)===u?s.call(o,{name:"editUrl",hash:{},data:i}):s)+'>edit url</a>\r\n            </span>\r\n            <button class="hide-button">–</button>\r\n        </div>\r\n    </div>\r\n    <span class="search">result of:\r\n        <span class="search-term">\r\n            <a target="_blank" href='+c(typeof(s=null!=(s=n.searchLink||(null!=e?e.searchLink:e))?s:l)===u?s.call(o,{name:"searchLink",hash:{},data:i}):s)+">"+c(typeof(s=null!=(s=n.searchPhrase||(null!=e?e.searchPhrase:e))?s:l)===u?s.call(o,{name:"searchPhrase",hash:{},data:i}):s)+'</a>\r\n        </span>\r\n    </span>\r\n</div>\r\n\r\n<div class="content">\r\n    <div class="description">\r\n        <span>'+c(typeof(s=null!=(s=n.description||(null!=e?e.description:e))?s:l)===u?s.call(o,{name:"description",hash:{},data:i}):s)+'</span>\r\n    </div>\r\n    <div class="extract">\r\n'+(null!=(a=n.if.call(o,null!=e?e.summary:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?a:"")+'    </div>\r\n\r\n    <div class="extras-section">\r\n'+(null!=(a=n.if.call(o,null!=e?e.aliases:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?a:"")+"\r\n"+(null!=(a=n.if.call(o,null!=e?e.extlinks:e,{name:"if",hash:{},fn:t.program(8,i,0),inverse:t.noop,data:i}))?a:"")+"    </div>\r\n</div>\r\n\r\n\r\n<hr>"},useData:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var a=i(n(5)),s=r(n(20)),o=r(n(1)),l=i(n(0)),u=i(n(21)),c=r(n(22));function d(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=s.default,t.Exception=o.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var h=d();h.create=d,c.default(h),h.default=h,e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),a.default(t),s.default(t),o.default(t),l.default(t),u.default(t),c.default(t)};var i=r(n(10)),a=r(n(11)),s=r(n(12)),o=r(n(13)),l=r(n(14)),u=r(n(15)),c=r(n(16))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,a=n.fn;if(!0===e)return a(this);if(!1===e||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=r.createFrame(n.data);s.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:s}}return a(e,n)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(0),a=n(1),s=(r=a)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",function(t,e){if(!e)throw new s.default("Must pass iterator to #each");var n=e.fn,r=e.inverse,a=0,o="",l=void 0,u=void 0;function c(e,r,a){l&&(l.key=e,l.index=r,l.first=0===r,l.last=!!a,u&&(l.contextPath=u+e)),o+=n(t[e],{data:l,blockParams:i.blockParams([t[e],e],[u+e,null])})}if(e.data&&e.ids&&(u=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(l=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var d=t.length;a<d;a++)a in t&&c(a,a,a===t.length-1);else{var h=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==h&&c(h,a-1),h=f,a++);void 0!==h&&c(h,a-1,!0)}return 0===a&&(o=r(this)),o})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(1),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0);e.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t?"constructor"!==e||t.propertyIsEnumerable(e)?t[e]:void 0:t})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0);e.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){a.default(t)};var r,i=n(18),a=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0);e.default=function(t){t.registerDecorator("inline",function(t,e,n,i){var a=t;return e.partials||(e.partials={},a=function(i,a){var s=n.partials;n.partials=r.extend({},s,e.partials);var o=t(i,a);return n.partials=s,o}),e.partials[i.args[0]]=i.fn,a})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=o.COMPILER_REVISION;if(e!==n){if(e<n){var r=o.REVISION_CHANGES[n],i=o.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n={strict:function(t,e){if(!(e in t))throw new s.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=i.extend({},r,a.hash),a.ids&&(a.ids[0]=!0));n=e.VM.resolvePartial.call(this,n,r,a);var o=e.VM.invokePartial.call(this,n,r,a);null==o&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),o=a.partials[a.name](r,a));if(null!=o){if(a.indent){for(var l=o.split("\n"),u=0,c=l.length;u<c&&(l[u]||u+1!==c);u++)l[u]=a.indent+l[u];o=l.join("\n")}return o}throw new s.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var a=this.programs[t],s=this.fn(t);return e||i||r||n?a=l(this,t,s,e,n,r,i):a||(a=this.programs[t]=l(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=i.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function r(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&t.useData&&(a=function(t,e){e&&"root"in e||((e=e?o.createFrame(e):{}).root=t);return e}(e,a));var s=void 0,l=t.useBlockParams?[]:void 0;function u(e){return""+t.main(n,e,n.helpers,n.partials,a,l,s)}return t.useDepths&&(s=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(u=c(t.main,u,n,i.depths||[],a,l))(e,i)}return r.isTop=!0,r._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,e.helpers),t.usePartial&&(n.partials=n.merge(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=n.merge(r.decorators,e.decorators)))},r._child=function(e,r,i,a){if(t.useBlockParams&&!i)throw new s.default("must pass block params");if(t.useDepths&&!a)throw new s.default("must pass parent depths");return l(n,e,t[e],r,0,i,a)},r},e.wrapProgram=l,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==u&&function(){n.data=o.createFrame(n.data);var t=n.fn;a=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=o.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=i.extend({},n.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new s.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=u;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a=n(1),s=(r=a)&&r.__esModule?r:{default:r},o=n(5);function l(t,e,n,r,i,a,s){function o(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(o=[e].concat(s)),n(t,e,t.helpers,t.partials,i.data||r,a&&[i.blockParams].concat(a),o)}return(o=c(n,o,t,s,r,a)).program=e,o.depth=s?s.length:0,o.blockParams=i||0,o}function u(){return""}function c(t,e,n,r,a,s){if(t.decorator){var o={};e=t.decorator(e,o,n,r&&r[0],a,s,r),i.extend(e,o)}return e}},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(this,n(23))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var a,s,o=null!=e?e:t.nullContext||{},l=n.helperMissing,u=t.escapeExpression;return'<span class="title">'+u("function"==typeof(s=null!=(s=n.title||(null!=e?e.title:e))?s:l)?s.call(o,{name:"title",hash:{},data:i}):s)+'</span>\r\n<div class="labels">\r\n    <span class="lang">'+u(t.lambda(null!=(a=null!=e?e.lang:e)?a.name:a,e))+'</span>\r\n    <span class="full-url">\r\n        <a target="_blank" href='+u("function"==typeof(s=null!=(s=n.url||(null!=e?e.url:e))?s:l)?s.call(o,{name:"url",hash:{},data:i}):s)+'>full url</a>\r\n    </span>\r\n    <span class="edit-url">\r\n        <a target="_blank" href='+u("function"==typeof(s=null!=(s=n.editUrl||(null!=e?e.editUrl:e))?s:l)?s.call(o,{name:"editUrl",hash:{},data:i}):s)+">edit url</a>\r\n    </span>\r\n</div>"},useData:!0})},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var a,s=null!=e?e:t.nullContext||{},o=n.helperMissing,l=t.escapeExpression;return"<label title="+l("function"==typeof(a=null!=(a=n.name||(null!=e?e.name:e))?a:o)?a.call(s,{name:"name",hash:{},data:i}):a)+' class="filter">\r\n    <input type="checkbox" class="toggle">\r\n    <span>'+l("function"==typeof(a=null!=(a=n.id||(null!=e?e.id:e))?a:o)?a.call(s,{name:"id",hash:{},data:i}):a)+"</span>\r\n</label>"},useData:!0})},function(t,e,n){},,,function(t,e,n){"use strict";n.r(e);var r=n(4);class i{constructor(t,e){this._leftNode=t,this._rightNode=t,this._text=t.textContent,this._offset=e}phrase(t,e){let n=0,r=0;if(function(t){const e=t.charCodeAt(0);return e>=12288&&e<=12543||e>=65280&&e<=65519||e>=19968&&e<=40879||e>=13312&&e<=19903}(this.text.charAt(this.offset)))n=this.offset-t,r=this.offset+e+1;else{if(o(this.text[this.offset]))return"";let i=this.offset;for(let t=0;t<=e;t++){for(;!1===o(this.text[i]);){if(i>=this.text.length-1){if(!a(this.rightNode))break;this.joinAfter(),i--}i++}i++}r=i;let l=this.offset.valueOf();i=this.offset;for(let e=0;e<=t;e++){for(;!1===o(this.text[i]);){if(i<=0){if(!s(this.leftNode))break;const t=t=>t+this.offset-l;this.joinBefore(),i=t(i),r=t(r),l=this.offset,i++}i--}i--}n=i+=2}let i=this.text.substring(n,r);return i=i.replace(/([.,\'\"\/#!$%\^&\*;:{}=\-_`~()、。])/,"").trim()}joinAfter(){this.rightNode=a(this.rightNode),this.addAfter(this.rightNode.textContent)}joinBefore(){this.leftNode=s(this.leftNode),this.addBefore(this.leftNode.textContent)}addAfter(t){this.text+=t}addBefore(t){this.text=t+this.text,this.offset+=t.length}get text(){return this._text}set text(t){this._text=t}get offset(){return this._offset}set offset(t){this._offset=t}get leftNode(){return this._leftNode}set leftNode(t){this._leftNode=t}get rightNode(){return this._rightNode}set rightNode(t){this._rightNode=t}}function a(t){return null===t.nextSibling?t.parentNode.nextSibling:t.nextSibling}function s(t){return null===t.previousSibling?t.parentNode.previousSibling:t.previousSibling}function o(t){return" "===t||/(\\n)/.test(JSON.stringify(t))}class l{getSourceUnderCursor(t){const e=document.caretPositionFromPoint(t.clientX,t.clientY),n=e.offsetNode,r=e.offset;return new i(n,r)}}const u=n(7),c=n(24),d=n(25);class h{compilePage(t){return u(t)}compileDisambiguation(t){return c(t)}compileLangFilter(t){return d(t)}}class f{constructor(){this._set=[]}add(t){return!this.has(t)&&(this._set.push(t),!0)}set(t,e){this._set[t]=e}remove(t){for(let e=0;e<this._set.length;e++)if(this._set[e].equals(t))return this._set.splice(e,1),!0;return!1}clear(){this._set=[]}has(t){for(let e of this._set)if(e.equals(t))return!0;return!1}get elements(){return this._set}set terms(t){this._set=t}}class p extends f{sort(){this.terms=this.elements.sort(function(t,e){return t.compareTo(e)})}}var m,g=n(2);class v{constructor(){this.handler=new h,this._articles=new p,this._disambiguations=new p,this._width=v.DEFAULT_WIDTH,this._height=v.DEFAULT_HEIGHT,this._frame=document.createElement("iframe")}prepare(){this.frame.id="wikichan",this.frame.name="wikichan",this.frame.src=browser.runtime.getURL("frame.html"),this.frame.frameBorder="0",this.frame.style.width=`${this.width}px`,this.frame.style.height=`${this.height}px`,this.frame.style.position="fixed",this.frame.style.visibility="hidden",this._visible=!1,document.body.appendChild(this._frame)}update(){this.clean(),this.disambiguations.elements.length>0&&(this.disambiguationsCountContainer.innerText=this.disambiguations.elements.length+" disambiguation(s) hidden",this.disambiguations.sort(),this.disambiguations.elements.forEach(t=>{const e=document.createElement("div");e.classList.add("disambiguation"),e.innerHTML=this.handler.compileDisambiguation(t),this.disambiguationsContainer.appendChild(e)}));const t=new f;this.articles.sort(),this.articles.elements.forEach(e=>{const n=document.createElement("div");n.classList.add("entry",e.lang.id),n.innerHTML=this.handler.compilePage(e),n.getElementsByClassName("hide-button")[0].addEventListener("click",t=>g.hide(t)),t.add(e.lang),this.responseContainer.appendChild(n)}),t.elements.forEach(t=>{const e=document.createElement("div");e.classList.add("lang-filter"),e.innerHTML=this.handler.compileLangFilter(t),e.getElementsByClassName("filter")[0].addEventListener("change",e=>this.filter(t)),this.filtersContainer.appendChild(e)})}clean(){for(this.disambiguationsCountContainer.innerText="";this.disambiguationsContainer.lastChild;)this.disambiguationsContainer.removeChild(this.disambiguationsContainer.lastChild);for(;this.filtersContainer.lastChild;)this.filtersContainer.removeChild(this.filtersContainer.lastChild);for(;this.responseContainer.lastChild;)this.responseContainer.removeChild(this.responseContainer.lastChild)}open(){this.frame.style.top=`${this.top}px`,this.frame.style.left=`${this.left}px`,this.frame.style.visibility="visible",this._visible=!0,this.articles.clear(),this.disambiguations.clear()}close(){this.frame.style.visibility="hidden",this._visible=!1,this.clean()}filter(t){Array.from(this.responseContainer.getElementsByClassName(t.id)).forEach(t=>{t.style.display="none"===t.style.display?"block":"none"})}setLocation(t,e){const n=this.calculateOffset(t,e);this.top=e+n.y,this.left=t+n.x}calculateOffset(t,e){let n={x:10,y:10};return t+n.x+this.width>window.innerWidth&&(n.x=-(n.x+this.width)),e+n.y+this.height>window.innerHeight&&(n.y=-(n.y+this.height)),n}addArticle(t){t.isDisambiguation()?this._disambiguations.add(t):this._articles.add(t)}containsPoint(t,e){return t>this.left&&t<this.left+this.width&&e>this.top&&e<this.top+this.height}get documentContainer(){return this._frame.contentWindow.document}get responseContainer(){return this.documentContainer.getElementById("results")}get disambiguationsCountContainer(){return this.documentContainer.getElementById("disambiguations-count")}get disambiguationsContainer(){return this.documentContainer.getElementById("disambiguations-list")}get filtersContainer(){return this.documentContainer.getElementById("filters")}get top(){return this._top}set top(t){this._top=t}get left(){return this._left}set left(t){this._left=t}get height(){return this._height}set height(t){this._height=t}get width(){return this._width}set width(t){this._width=t}get frame(){return this._frame}get articles(){return this._articles}get disambiguations(){return this._disambiguations}get visible(){return this._visible}}v.DEFAULT_WIDTH=475,v.DEFAULT_HEIGHT=300;class w{constructor(){this._aliases=[],this._categories=[],this._extlinks=[],this._redirects=[]}get id(){return this._id}get title(){return this._title}get summary(){return this._summary}get description(){return this._description}get aliases(){return this._aliases}get categories(){return this._categories}get lang(){return this._lang}get url(){return this._url}get editUrl(){return this._editUrl}get extlinks(){return this._extlinks}get redirects(){return this._redirects}get searchPhrase(){return this._searchPhrase}set searchPhrase(t){this._searchPhrase=t}get searchLink(){return this.lang.url+"/w/index.php?profile=advanced&fulltext=1&search="+this.searchPhrase}addRedirect(t){this._redirects.push(t)}isDisambiguation(){for(let t=0;t<this.categories.length;t++)if(this.categories[t]===this.lang.disambiguationId)return!0;return!1}equals(t){return this.id===t.id&&this.lang.id===t.lang.id}compareTo(t){return this.lang.value<t.lang.value?-1:this.lang.value>t.lang.value?1:this.title.length<t.title.length?1:this.title.length>t.title.length?-1:0}static fromJson(t){const e=new w;t.redirects&&t.redirects.forEach(t=>{e.addRedirect(_.fromJson(t))});const n=t.page;return e._id=n.pageid,e._title=n.title,e._summary=n.extract,e._description=n.description,e._url=n.fullurl,e._editUrl=n.editurl,e._lang=t.lang,n.extlinks&&n.extlinks.forEach(t=>{e._extlinks.push(t["*"])}),n.terms.alias&&n.terms.alias.forEach(t=>{e._aliases.push(t)}),n.categories&&n.categories.forEach(t=>{e._categories.push(t.title)}),n.redirects&&n.redirects.forEach(t=>{e._redirects.push(_.fromJson(t))}),e}}class _{constructor(){}get from(){return this._from}get to(){return this._to}static fromJson(t){const e=new _;return e._from=t.from,e._to=t.to,e}}class y{constructor(t,e){this._key=t,this._value=e}get key(){return this._key}set key(t){this._key=t}get value(){return this._value}set value(t){this._value=t}}class b{constructor(t,e){this.endpoint=t,this.params=new Array,this._type=e,this.addParam("origin","*").addParam("format","json")}addParam(t,e){const n=new y(t,e);return this.params.push(n),this}get url(){let t=this.endpoint;return this.params.forEach(e=>{t+=e.key+"="+e.value+"&"}),t}get type(){return this._type}}!function(t){t[t.EXTRACT=0]="EXTRACT"}(m||(m={}));class x{constructor(t){this.lang=t,this.endpoint="https://"+this.lang.id.toLowerCase()+".wikipedia.org/w/api.php?"}fetchExtract(t){const e=this.constructQuery(t,m.EXTRACT),n=this.lang;return new Promise(function(t,r){const i=new XMLHttpRequest;i.open("GET",e.url),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.onloadend=function(){if(this.status>=200&&this.status<300){const e=JSON.parse(this.responseText).query;if(-1!==Object.keys(e.pages).indexOf("-1")&&1===Object.keys(e.pages).length)return;const r=x.parseResponse(n,e),i=w.fromJson(r);t(i)}else r({status:this.status,statusText:this.statusText})},i.onerror=function(){r({status:this.status,statusText:this.statusText})},i.send()})}constructQuery(t,e){let n=new b(this.endpoint,e);return n.addParam("action","query").addParam("prop","info|description|categories|extlinks|pageterms|extracts&exintro").addParam("inprop","url").addParam("redirects","1").addParam("titles",t),n}static parseResponse(t,e){const n=[];e.normalized&&n.concat(e.normalized),e.redirects&&n.concat(e.redirects);const r=Object.keys(e.pages)[0];return{lang:t,redirects:n,page:e.pages[r]}}}class k{constructor(t,e,n,r){this._id=t,this._name=e,this._value=n,this._disambiguationId=r}get id(){return this._id}get value(){return this._value}get name(){return this._name}get url(){return"https://"+this.id.toLowerCase()+".wikipedia.org"}get disambiguationId(){return this._disambiguationId}equals(t){return this.id===t.id}}!function(t){t.EN=new t("EN","English",1,"Category:All article disambiguation pages"),t.FR=new t("FR","Français",2,"Catégorie:Homonymie"),t.DE=new t("DE","Deutsch",3,"Kategorie:Begriffsklärung"),t.ES=new t("ES","Español",4,"Categoría:Wikipedia:Desambiguación"),t.RU=new t("RU","русский язык",5,"Категория:Страницы значений по алфавиту"),t.JA=new t("JA","日本語",10,"Category:すべての曖昧さ回避"),t.ZH=new t("ZH","中文",11,"Category:全部消歧義頁面"),t.ALL_LANGS=[t.EN,t.FR,t.DE,t.ES,t.RU,t.JA,t.ZH]}(k||(k={}));r.enableAll(),window.wikichan=new class{constructor(){this.selector=new l,this.wikis=[],k.ALL_LANGS.forEach(t=>{this.wikis.push(new x(t))})}prepare(){window.addEventListener("mousedown",this.onMouseOver.bind(this)),r.info("Added mousedown listener for Wikichan")}put(t){window.wikiframe.addArticle(t),window.wikiframe.update()}onMouseOver(t){if(!t.altKey)return void(window.wikiframe&&window.wikiframe.close());const e=this.selector.getSourceUnderCursor(t);if(window.wikiframe)window.wikiframe.clean();else{window.wikiframe=new v,window.wikiframe.prepare();const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=browser.runtime.getURL("css/wikichan.css"),document.head.appendChild(t)}window.wikiframe.setLocation(t.clientX,t.clientY),window.wikiframe.open();for(let t=0;t<4;t++)for(let n=0;n<4;n++){const r=e.phrase(t,n);for(let t=0;t<this.wikis.length;t++)this.wikis[t].fetchExtract(r).then(t=>{t.searchPhrase=r,this.put(t)})}}},window.wikichan.prepare()}]);